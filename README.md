# 今天吃什么？微信小程序

## 项目介绍

"今天吃什么？"是一款解决用户日常饮食选择困难的微信小程序。通过简单的随机推荐功能，帮助用户快速决定当餐饮食选择，减轻用户的决策负担。

## 功能特点

1. **随机推荐**：点击圆形区域，系统会在3-5秒内随机切换不同食物选项，最终推荐一种食物。
2. **圆形UI展示**：食物推荐结果以圆形UI方式展示，包含食物名称和对应图片。
3. **历史记录**：记录用户最近随机的食物，提供历史记录查看功能。

## 项目结构

```
├── app.js                 # 应用程序入口文件，包含全局数据和方法
├── app.json               # 应用程序配置文件
├── app.wxss               # 应用程序全局样式
├── sitemap.json           # 小程序索引配置文件
├── images/                # 图片资源目录
│   ├── haidilao.png       # 海底捞图片
│   ├── henjiuyiqian.png   # 很久以前羊肉串图片
│   ├── kfc.png            # KFC图片
│   ├── mcdonald.png       # 麦当劳图片
│   └── shaokao.png        # 烧烤图片
├── pages/                 # 页面目录
│   ├── index/             # 首页目录
│   │   ├── index.js       # 首页逻辑
│   │   ├── index.wxml     # 首页结构
│   │   └── index.wxss     # 首页样式
│   └── history/           # 历史记录页面目录
│       ├── history.js     # 历史记录页面逻辑
│       ├── history.wxml   # 历史记录页面结构
│       └── history.wxss   # 历史记录页面样式
└── style/                 # 样式目录
    └── weui.wxss          # WeUI样式库
```

## 核心功能说明

### 随机选择算法

随机选择功能在 `pages/index/index.js` 中的 `startRandomize` 函数实现：

1. 设置随机时间（3-5秒）
2. 在随机时间内快速切换不同食物选项
3. 使用淡入淡出动画效果增强用户体验
4. 结束后停留在随机选中的食物上
5. 将选中的食物添加到历史记录

### 历史记录功能

历史记录功能在 `app.js` 中的 `addToHistory` 函数和 `pages/history/history.js` 中实现：

1. 每次随机选择后，将食物信息和时间戳添加到历史记录
2. 历史记录按时间倒序排列，最新的记录显示在最前面
3. 历史记录最多保存20条，超出后自动删除最早的记录
4. 提供清空历史记录功能

## 使用说明

1. 打开小程序，进入首页
2. 点击圆形区域（显示"点我开始"的圆圈），等待3-5秒随机过程
3. 查看推荐的食物结果
4. 通过底部导航栏，切换到历史记录页面
5. 在历史记录页面，可以查看或清空历史记录

## 技术栈

- 微信小程序原生开发
- WeUI组件库

## 单元测试

项目包含以下测试文件：

```
tests/
├── randomTime.test.js        # 测试随机时间范围
├── circleClick.test.js       # 测试圆圈点击功能
└── integration.test.js       # 集成测试
```

运行测试：在项目根目录执行 `node tests/integration.test.js`

## 注意事项

- 本项目使用WeUI组件库，确保正确引入样式文件
- 图片资源已放置在images目录下，包括：海底捞、很久以前羊肉串、KFC、麦当劳、烧烤